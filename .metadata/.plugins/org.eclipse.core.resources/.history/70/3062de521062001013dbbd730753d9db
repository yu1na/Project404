ë„¤, ì´í•´í–ˆìŠµë‹ˆë‹¤. `top.jsp` íŒŒì¼ì— `</body>`ì™€ `</html>` ë‹«ëŠ” íƒœê·¸, ê·¸ë¦¬ê³  FullCalendar ê´€ë ¨ JavaScript ë¼ì´ë¸ŒëŸ¬ë¦¬ ë° ì½”ë“œê¹Œì§€ **ëª¨ë‘ í¬í•¨ì‹œì¼œ í•˜ë‚˜ì˜ ì™„ì „í•œ íŒŒì¼**ë¡œ ë§Œë“¤ì–´ ë“œë¦¬ê² ìŠµë‹ˆë‹¤.

ì´ë ‡ê²Œ í•˜ë©´ ë‹¤ë¥¸ JSP íŒŒì¼ì—ì„œ `top.jsp`ë¥¼ `include`í•˜ëŠ” ëŒ€ì‹ , `top.jsp` ìì²´ë¥¼ ì§ì ‘ ë Œë”ë§í•˜ê±°ë‚˜, ì•„ë‹ˆë©´ `top.jsp`ë§Œ ë¡œë“œí•´ë„ FullCalendarê°€ ë™ì‘í•˜ëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**ì£¼ì˜ì‚¬í•­:**

  * ì´ ë°©ì‹ì€ `calendar.jsp`ë‚˜ ë‹¤ë¥¸ ì½˜í…ì¸  JSP íŒŒì¼ì—ì„œ `<!DOCTYPE html>` ë“±ì˜ ì¤‘ë³µ ì„ ì–¸ì„ ì—†ì• ê³ , **`top.jsp`ë§Œìœ¼ë¡œ ì „ì²´ í˜ì´ì§€ë¥¼ êµ¬ì„±í•  ë•Œ ìœ ìš©**í•©ë‹ˆë‹¤.
  * ë§Œì•½ `calendar.jsp` ë“±ì—ì„œ **ë³„ë„ì˜ ê³ ìœ í•œ JavaScript ë¡œì§ì´ ë§ë‹¤ë©´**, í•´ë‹¹ ë¡œì§ì€ `top.jsp`ê°€ ì•„ë‹Œ **ê°œë³„ JSP íŒŒì¼ì— ìœ ì§€**í•˜ëŠ” ê²ƒì´ ë” ë°”ëŒì§í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
  * ì•„ë˜ ì½”ë“œëŠ” `calendar.jsp`ì˜ JavaScript ë¡œì§ê¹Œì§€ `top.jsp`ë¡œ ì˜®ê¸´ ì˜ˆì‹œì…ë‹ˆë‹¤. ë§Œì•½ `calendar.jsp`ë¥¼ ë”°ë¡œ ìœ ì§€í•˜ê³  ì‹¶ë‹¤ë©´, JavaScript ë¶€ë¶„ì€ `calendar.jsp`ì— ê·¸ëŒ€ë¡œ ë‘ì‹œê³  `top.jsp`ì—ëŠ” `<script>` CDN ë¡œë“œ ë¶€ë¶„ê¹Œì§€ë§Œ ë‘ì–´ì•¼ í•©ë‹ˆë‹¤.

-----

### **`top.jsp` (ëª¨ë“  HTML ë° JS í¬í•¨ ë²„ì „)**

```jsp
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>í•­ê³µì‚¬ ì§ì› í¬í„¸</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
        <link href='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.13/main.min.css' rel='stylesheet' />
        <style>
            /* Reset some default browser styles */
            body, html {
                margin: 0;
                padding: 0;
                height: 100%; /* ì „ì²´ ë†’ì´ 100% ì„¤ì • */
                display: flex; /* flexbox ì‚¬ìš©ì„ ìœ„í•´ bodyë¥¼ flex ì»¨í…Œì´ë„ˆë¡œ ì„¤ì • */
                flex-direction: column; /* ìì‹ ìš”ì†Œë“¤ì„ ìˆ˜ì§ìœ¼ë¡œ ë°°ì¹˜ */
            }

            /* Global Styles */
            .no-underline {
                text-decoration: none !important; /* ë°‘ì¤„ ì œê±° ê°•ì œ ì ìš© */
            }
            .menu-item {
                margin-right: 20px;
            }
            .portal-title {
                color: white !important;
                margin-right: 30px;
            }
            /* ë„¤ë¹„ê²Œì´ì…˜ ë°” ìŠ¤íƒ€ì¼ */
            .navbar-custom {
                background-color: #004080;
                color: white;
                padding: 15px;
                display: flex;
                align-items: center;
                width: 100%; /* ìƒë‹¨ ë°” ì „ì²´ ë„ˆë¹„ */
            }
            .navbar-custom .nav-link { /* ìƒë‹¨ ë©”ë‰´ ë§í¬ ìƒ‰ìƒ */
                color: white !important;
                margin-left: 20px; /* ë©”ë‰´ í•­ëª© ê°„ ê°„ê²© */
            }
            .navbar-custom .nav-link:hover {
                 color: #add8e6 !important;
            }

            /* ë©”ì¸ ì»¨í…ì¸  ì˜ì—­ */
            .wrapper {
                display: flex; /* ì‚¬ì´ë“œë°”ì™€ ë©”ì¸ ì»¨í…ì¸ ë¥¼ ê°€ë¡œë¡œ ë°°ì¹˜ */
                flex: 1; /* ë‚¨ì€ ê³µê°„ì„ ëª¨ë‘ ì°¨ì§€í•˜ë„ë¡ í•¨ */
            }
            .main-content {
                flex-grow: 1; /* ë‚¨ì€ ê³µê°„ì„ ëª¨ë‘ ì°¨ì§€ */
                padding: 20px;
            }

            /* ì‚¬ì´ë“œë°” ìŠ¤íƒ€ì¼ */
            .sidebar-container {
                width: 200px;
                background: #e6f0ff;
                padding: 20px;
                box-sizing: border-box;
                flex-shrink: 0; /* í¬ê¸°ê°€ ì¤„ì–´ë“¤ì§€ ì•Šë„ë¡ */
            }
            .sidebar-container ul {
                list-style: none;
                padding: 0;
                margin: 0;
            }
            .sidebar-container li {
                margin-bottom: 15px;
            }
            .sidebar-container li a {
                text-decoration: none;
                color: #333;
                font-size: 17px;
                display: block;
                padding: 5px 0;
            }
            .sidebar-container li a:hover {
                color: #0056b3;
            }

            /* FullCalendar ë²„íŠ¼ ìŠ¤íƒ€ì¼ ì¡°ì • */
            .fc-toolbar-title {
                font-size: 1.5em;
                color: #004080;
            }
            .fc-button {
                background-color: #0056b3 !important;
                border-color: #0056b3 !important;
                color: white !important;
            }
            .fc-button:hover {
                background-color: #004080 !important;
                border-color: #004080 !important;
            }
            .fc-today-button {
                background-color: #28a745 !important;
                border-color: #28a745 !important;
            }
            .fc-today-button:hover {
                background-color: #218838 !important;
                border-color: #218838 !important;
            }
        </style>
    </head>
    <body>
        <div class="navbar-custom">
            <a href="/" class="no-underline portal-title">
              <span style="font-size: 20px;">âœˆ í•­ê³µì‚¬ ì§ì› í¬í„¸</span>
            </a>
            <nav class="flex text-base font-medium" style="flex-grow: 1; justify-content: flex-end;">
              <a href="/approval/list" class="nav-link menu-item">ì „ìê²°ì¬</a>
              <a href="/report/list" class="nav-link menu-item">ì—…ë¬´ë³´ê³ </a>
              <a href="/message/inbox" class="nav-link menu-item">ìª½ì§€í•¨</a>
              <a href="/docs/list" class="nav-link menu-item">ë¬¸ì„œë³´ê´€ì†Œ</a>
              <a href="/qna/list" class="nav-link menu-item">ê³ ê°ì‘ëŒ€</a>
              <a href="/calendar" class="nav-link menu-item">ì¼ì •ê´€ë¦¬</a>
            </nav>
            <span style="float: right;">[ë¡œê·¸ì•„ì›ƒ]</span>
        </div>

        <div class="wrapper">
            <div class="sidebar-container">
                <ul style="list-style: none; padding: 0;">
                    <li><a href="/calendar" class="no-underline">ğŸ“… ì¼ì • ê´€ë¦¬</a></li>
                    <li><a href="/report/list" class="no-underline">ğŸ“ ì—…ë¬´ë³´ê³ </a></li>
                    <li><a href="/approval/list" class="no-underline">ğŸ“ ì „ìê²°ì¬</a></li>
                    <li><a href="/message/inbox" class="no-underline">ğŸ’¬ ìª½ì§€í•¨</a></li>
                    <li><a href="/docs/list" class="no-underline">ğŸ“ ë¬¸ì„œë³´ê´€ì†Œ</a></li>
                    <li><a href="/qna/list" class="no-underline">ğŸ‘¥ ê³ ê°ì‘ëŒ€</a></li>
                </ul>
            </div>

            <div class="main-content">
                <h2>ğŸ“… ì¼ì • ê´€ë¦¬</h2>
                <div id="calendar"></div>

                <div class="modal fade" id="eventModal" tabindex="-1" aria-labelledby="eventModalLabel" aria-hidden="true">
                  <div class="modal-dialog">
                    <div class="modal-content">
                      <div class="modal-header">
                        <h5 class="modal-title" id="eventModalLabel">ì¼ì • ìƒì„¸/ìˆ˜ì •</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                      </div>
                      <div class="modal-body">
                        <form id="eventForm">
                          <input type="hidden" id="eventId">
                          <div class="mb-3">
                            <label for="eventTitle" class="form-label">ì œëª©</label>
                            <input type="text" class="form-control" id="eventTitle" required>
                          </div>
                          <div class="mb-3">
                            <label for="eventDescription" class="form-label">ì„¤ëª…/ë¹„ê³ </label>
                            <textarea class="form-control" id="eventDescription" rows="3"></textarea>
                          </div>
                          <div class="mb-3">
                            <label for="eventStart" class="form-label">ì‹œì‘ì¼ì‹œ</label>
                            <input type="datetime-local" class="form-control" id="eventStart" required>
                          </div>
                          <div class="mb-3">
                            <label for="eventEnd" class="form-label">ì¢…ë£Œì¼ì‹œ</label>
                            <input type="datetime-local" class="form-control" id="eventEnd">
                          </div>
                          <div class="mb-3 form-check">
                            <input type="checkbox" class="form-check-input" id="eventAllDay">
                            <label class="form-check-label" for="eventAllDay">ì¢…ì¼</label>
                          </div>
                          <div class="mb-3">
                            <label for="eventColor" class="form-label">ìƒ‰ìƒ</label>
                            <input type="color" class="form-control form-control-color" id="eventColor" value="#007bff">
                          </div>
                        </form>
                      </div>
                      <div class="modal-footer">
                        <button type="button" class="btn btn-danger me-auto" id="deleteEventBtn">ì‚­ì œ</button>
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">ë‹«ê¸°</button>
                        <button type="button" class="btn btn-primary" id="saveEventBtn">ì €ì¥</button>
                      </div>
                    </div>
                  </div>
                </div>

            </div> </div> <%-- jQuery (FullCalendar í•„ìš”) --%>
        <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
        <%-- Bootstrap 5 JS (ëª¨ë‹¬ ë“±) --%>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
        <%-- FullCalendar Core JS --%>
        <script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.13/index.global.min.js'></script>
        <%-- FullCalendar í•œêµ­ì–´ ë¡œì¼€ì¼ (ì˜µì…˜) --%>
        <script src='https://cdn.jsdelivr.net/npm/@fullcalendar/core/locales/ko.global.min.js'></script>
        <%-- moment.js (ë‚ ì§œ íŒŒì‹± ë° í¬ë§·íŒ…, FullCalendarì™€ ì§ì ‘ì ì¸ ì˜ì¡´ì„±ì€ ì•„ë‹ˆë‚˜ í¸ì˜ìƒ ì‚¬ìš©) --%>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/moment-timezone/0.5.34/moment-timezone-with-data.min.js"></script>

        <script>
            document.addEventListener('DOMContentLoaded', function() {
                var calendarEl = document.getElementById('calendar');
                var eventModal = new bootstrap.Modal(document.getElementById('eventModal'));

                var calendar = new FullCalendar.Calendar(calendarEl, {
                    locale: 'ko', // í•œêµ­ì–´ ì ìš©
                    headerToolbar: {
                        left: 'prev,next today',
                        center: 'title',
                        right: 'dayGridMonth,timeGridWeek,timeGridDay'
                    },
                    initialView: 'dayGridMonth',
                    editable: true,
                    selectable: true,
                    dayMaxEvents: true,
                    eventLimit: true,

                    // ì´ë²¤íŠ¸ ë°ì´í„° ë¡œë“œ
                    events: function(fetchInfo, successCallback, failureCallback) {
                        $.ajax({
                            url: '/calendar/events', // CalendarControllerì˜ getCalendarEvents ë§¤í•‘
                            method: 'GET',
                            dataType: 'json',
                            success: function(data) {
                                successCallback(data);
                            },
                            error: function(xhr, status, error) {
                                console.error("ì´ë²¤íŠ¸ ë¡œë“œ ì‹¤íŒ¨: ", status, error);
                                alert("ì´ë²¤íŠ¸ ë¡œë“œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.");
                                failureCallback(error);
                            }
                        });
                    },

                    // ë‚ ì§œ í´ë¦­ ì‹œ ì´ë²¤íŠ¸ ì¶”ê°€
                    select: function(info) {
                        $('#eventId').val(''); // ID ì´ˆê¸°í™” (ìƒˆ ì´ë²¤íŠ¸)
                        $('#eventTitle').val('');
                        $('#eventDescription').val('');
                        $('#eventStart').val(moment(info.startStr).format('YYYY-MM-DDTHH:mm'));
                        $('#eventEnd').val(moment(info.endStr).format('YYYY-MM-DDTHH:mm'));
                        $('#eventAllDay').prop('checked', info.allDay);
                        $('#eventColor').val('#007bff');
                        $('#deleteEventBtn').hide(); // ìƒˆ ì´ë²¤íŠ¸ ì¶”ê°€ ì‹œ ì‚­ì œ ë²„íŠ¼ ìˆ¨ê¹€

                        eventModal.show();
                    },

                    // ì´ë²¤íŠ¸ í´ë¦­ ì‹œ ìƒì„¸/ìˆ˜ì •
                    eventClick: function(info) {
                        var event = info.event;
                        $('#eventId').val(event.id);
                        $('#eventTitle').val(event.title);
                        $('#eventDescription').val(event.extendedProps.description || '');
                        $('#eventStart').val(moment(event.start).format('YYYY-MM-DDTHH:mm'));
                        $('#eventEnd').val(event.end ? moment(event.end).format('YYYY-MM-DDTHH:mm') : '');
                        $('#eventAllDay').prop('checked', event.allDay);
                        $('#eventColor').val(event.backgroundColor || '#007bff');
                        $('#deleteEventBtn').show(); // ê¸°ì¡´ ì´ë²¤íŠ¸ëŠ” ì‚­ì œ ë²„íŠ¼ ë³´ì„

                        eventModal.show();
                    },

                    // ì´ë²¤íŠ¸ ë“œë˜ê·¸ í›„ ë‚ ì§œ ë³€ê²½
                    eventDrop: function(info) {
                        var event = info.event;
                        var updatedEvent = {
                            id: event.id,
                            title: event.title,
                            start: moment(event.start).format('YYYY-MM-DDTHH:mm:ss'),
                            end: event.end ? moment(event.end).format('YYYY-MM-DDTHH:mm:ss') : null,
                            allDay: event.allDay,
                            color: event.backgroundColor,
                            description: event.extendedProps.description || ''
                        };
                        updateEvent(updatedEvent, info.revert);
                    },

                    // ì´ë²¤íŠ¸ ë¦¬ì‚¬ì´ì¦ˆ í›„ ê¸°ê°„ ë³€ê²½
                    eventResize: function(info) {
                        var event = info.event;
                        var updatedEvent = {
                            id: event.id,
                            title: event.title,
                            start: moment(event.start).format('YYYY-MM-DDTHH:mm:ss'),
                            end: event.end ? moment(event.end).format('YYYY-MM-DDTHH:mm:ss') : null,
                            allDay: event.allDay,
                            color: event.backgroundColor,
                            description: event.extendedProps.description || ''
                        };
                        updateEvent(updatedEvent, info.revert);
                    }
                });

                calendar.render(); // ìº˜ë¦°ë” ê·¸ë¦¬ê¸°

                // ì €ì¥ ë²„íŠ¼ í´ë¦­ ì‹œ
                $('#saveEventBtn').on('click', function() {
                    var eventId = $('#eventId').val();
                    var eventData = {
                        title: $('#eventTitle').val(),
                        description: $('#eventDescription').val(),
                        start: moment($('#eventStart').val()).format('YYYY-MM-DDTHH:mm:ss'),
                        end: $('#eventEnd').val() ? moment($('#eventEnd').val()).format('YYYY-MM-DDTHH:mm:ss') : null,
                        allDay: $('#eventAllDay').is(':checked'),
                        color: $('#eventColor').val()
                    };

                    if (eventId) { // ê¸°ì¡´ ì´ë²¤íŠ¸ ìˆ˜ì •
                        updateEvent(Object.assign({id: Number(eventId)}, eventData));
                    } else { // ìƒˆ ì´ë²¤íŠ¸ ì¶”ê°€
                        addEvent(eventData);
                    }
                    eventModal.hide();
                });

                // ì‚­ì œ ë²„íŠ¼ í´ë¦­ ì‹œ
                $('#deleteEventBtn').on('click', function() {
                    if (confirm('ì´ ì¼ì •ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                        var eventId = $('#eventId').val();
                        deleteEvent(Number(eventId));
                        eventModal.hide();
                    }
                });

                // --- API ì—°ë™ í•¨ìˆ˜ë“¤ ---
                function addEvent(eventData) {
                    $.ajax({
                        url: '/calendar/events',
                        method: 'POST',
                        contentType: 'application/json',
                        data: JSON.stringify(eventData),
                        success: function(response) {
                            calendar.addEvent(response);
                            alert('ì¼ì •ì´ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.');
                        },
                        error: function(xhr, status, error) {
                            console.error("ì´ë²¤íŠ¸ ì¶”ê°€ ì‹¤íŒ¨: ", status, error);
                            alert("ì¼ì • ì¶”ê°€ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.");
                        }
                    });
                }

                function updateEvent(eventData, revertFunc) {
                    $.ajax({
                        url: '/calendar/events/' + eventData.id,
                        method: 'PUT',
                        contentType: 'application/json',
                        data: JSON.stringify(eventData),
                        success: function(response) {
                            alert('ì¼ì •ì´ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤.');
                        },
                        error: function(xhr, status, error) {
                            console.error("ì´ë²¤íŠ¸ ìˆ˜ì • ì‹¤íŒ¨: ", status, error);
                            alert("ì¼ì • ìˆ˜ì •ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.");
                            if (revertFunc) revertFunc();
                        }
                    });
                }

                function deleteEvent(eventId) {
                    $.ajax({
                        url: '/calendar/events/' + eventId,
                        method: 'DELETE',
                        success: function() {
                            calendar.getEventById(eventId).remove();
                            alert('ì¼ì •ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.');
                        },
                        error: function(xhr, status, error) {
                            console.error("ì´ë²¤íŠ¸ ì‚­ì œ ì‹¤íŒ¨: ", status, error);
                            alert("ì¼ì • ì‚­ì œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.");
                        }
                    });
                }
            });
        </script>
    </body>
</html>
```